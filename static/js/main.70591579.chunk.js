(this.webpackJsonpcrossword=this.webpackJsonpcrossword||[]).push([[0],{13:function(e,c,n){},15:function(e,c,n){},16:function(e,c,n){"use strict";n.r(c);var t=n(1),l=n.n(t),r=n(7),s=n.n(r),o=(n(13),n.p,n(6)),u=n(8),i=n(3),a=n(0);function d(e){var c=e.cell,n=c.x,l=c.y,r=c.solution,s=c.number,o=(c.type,c.solved),u=e.functions,d=(u.cellToClue,u.cellToWords),f=u.fillCell,j=u.checkCells,h=u.toggleSolved,b=u.toggleHighlightClue,v=Object(t.useState)(""),p=Object(i.a)(v,2),O=p[0],g=p[1];return r?Object(a.jsxs)("div",{className:"cell ".concat(!!o&&"solved"),id:"".concat(n,",").concat(l),children:[Object(a.jsx)("div",{className:"cell-number",children:s}),Object(a.jsx)("input",{className:"cell-letter",onFocusCapture:function(e){b(s,!0),console.log("focus")},onBlur:function(e){b(s,!1),console.log("blur")},onChange:function(e){var c=e.currentTarget.value.toUpperCase();if(c.length<=1){g(c),f(n,l,c);var t=d(n,l),r=j(t[0]),s=j(t[1]);r&&h(t[0],!0,n,l),s&&h(t[1],!0,n,l),r||s||(h(t[0],!1,n,l),h(t[1],!1,n,l))}},value:O})]}):Object(a.jsx)("div",{className:"cell-black"})}function f(e){var c=e.clue,n=(c.direction,c.text),t=(c.word,c.number),l=c.highlighted;return Object(a.jsxs)("div",{className:l?"clue highlighted":"clue",id:"clue".concat(t),children:[Object(a.jsx)("span",{className:"number",children:t}),Object(a.jsx)("span",{className:"text",children:n})]})}function j(e){var c=e.clues,n=c.filter((function(e){return 0===e.direction})),t=c.filter((function(e){return 1===e.direction}));e.functions.clueToWord;return Object(a.jsxs)("div",{className:"clues-container",children:[Object(a.jsxs)("div",{className:"across",children:[Object(a.jsx)("h2",{className:"clues-header",children:"Across"}),n.map((function(e,c){return Object(a.jsx)(f,{clue:e},c)}))]}),Object(a.jsxs)("div",{className:"down",children:[Object(a.jsx)("h2",{className:"clues-header",children:"Down"}),t.map((function(e,c){return Object(a.jsx)(f,{clue:e},c)}))]})]})}function h(){var e=Object(t.useState)([]),c=Object(i.a)(e,2),n=c[0],l=c[1],r=Object(t.useState)([]),s=Object(i.a)(r,2),f=s[0],h=s[1],b=Object(t.useState)([]),v=Object(i.a)(b,2),p=v[0],O=v[1];Object(t.useEffect)((function(){fetch("crossword-puzzle.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){e.words.forEach((function(c){var n=N(c);c.cells=n;var t,l=Object(u.a)(n);try{for(l.s();!(t=l.n()).done;){var r=t.value;e.cells[r].word?e.cells[r].word.push(c):e.cells[r].word=[c]}}catch(s){l.e(s)}finally{l.f()}})),h(e.clues),l(e.cells),O(e.words)}))}),[]);var g=function(e){return f.filter((function(c){return c.number===e}))},m=function(e,c){return n[x(e,c)].word},x=function(e,c){return 15*(c-1)+(e-1)},N=function(e){var c,n,t=e.x.split("-").map((function(e){return Number(e)})),l=e.y.split("-").map((function(e){return Number(e)})),r=[];if(t.length>1){var s=[t[0],t[1]];for(c=s[0],n=s[1];c<=n;)r.push(x(c,l)),c++}else{var o=[l[0],l[1]];for(c=o[0],n=o[1];c<=n;)r.push(x(t,c)),c++}return r},w=function(e,c,t){n[x(e,c)].value=t},C=function(e){var c=[];return e.cells.forEach((function(e){n[e].value||(n[e].value=" "),c.push(n[e].value)})),c.join("")==e.solution},T=function(e,c,t,r){var s=Object(o.a)(n);x(t,r);e.cells.forEach((function(e){if(s[e].solved){var n=C(s[e].word[0]),t=C(s[e].word[1]);n||t||(s[e].solved=c)}else s[e].solved=c})),l(s)},S=function(e,c){g(e).forEach((function(e){return e.highlighted=c})),h(Object(o.a)(f))};return Object(a.jsxs)("div",{className:"game-container",children:[Object(a.jsx)("div",{className:"grid",children:n.map((function(e,c){return Object(a.jsx)(d,{functions:{cellToClue:g,cellToWords:m,fillCell:w,checkCells:C,toggleSolved:T,toggleHighlightClue:S},cell:e},"".concat(c))}))}),f.length>0?Object(a.jsx)(j,{functions:{clueToWord:function(e){return p.find((function(c){return c.id==e}))}},clues:f},f.length):null]})}n(15);var b=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)(h,{})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(c){var n=c.getCLS,t=c.getFID,l=c.getFCP,r=c.getLCP,s=c.getTTFB;n(e),t(e),l(e),r(e),s(e)}))};s.a.render(Object(a.jsx)(l.a.StrictMode,{children:Object(a.jsx)(b,{})}),document.getElementById("root")),v()}},[[16,1,2]]]);
//# sourceMappingURL=main.70591579.chunk.js.map